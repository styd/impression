(e=>{const{document:t,IntersectionObserver:r,IntersectionObserverEntry:n,Event:s}=e,i=t.currentScript.getAttribute("elements-selector")||".impression",c=t.currentScript.getAttribute("visible-fraction")||.5;if(r&&n){const e=new r(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const r=new s("impression");e.target.dispatchEvent(r),t.unobserve(e.target)}}))}),{threshold:c});t.querySelectorAll(i).forEach((t=>{e.observe(t)}))}})(window);