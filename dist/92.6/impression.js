(e=>{const{document:t,IntersectionObserver:r,IntersectionObserverEntry:n}=e,s=t.currentScript,i=s.getAttribute("elements-selector")||".impression",o=s.getAttribute("visible-fraction")||.5;if(r&&n){const e=(e,t)=>{e.forEach((({isIntersecting:e,target:r})=>{e&&(n(r),t.unobserve(r))}))},n=e=>{const t=new Event("impression");e.dispatchEvent(t)},s=new r(e,{threshold:o});t.querySelectorAll(i).forEach((e=>{s.observe(e)}))}})(window);