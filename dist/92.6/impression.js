(e=>{const t=document.currentScript.getAttribute("elements-selector")||".impression",r=document.currentScript.getAttribute("visible-fraction")||.5;if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const r=new Event("impression");e.target.dispatchEvent(r),t.unobserve(e.target)}}))}),{threshold:r});document.querySelectorAll(t).forEach((t=>{e.observe(t)}))}})(window);